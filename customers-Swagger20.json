{
    "openapi": "3.0.0",
    "info": {
        "version": "3",
        "title": "Customers"
    },
    "paths": {
        "/v3/merchants/{mId}/customers.csv": {
            "get": {
                "description": "Get a list of customers",
                "summary": "DelegatedGetCustomers",
                "operationId": "V3MerchantsCustomersCsvByMIdGet",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "filter",
                        "in": "query",
                        "required": false,
                        "description": "Filter fields: [id, firstName, lastName, fullName, customerSince, marketingAllowed, deletedTime, phoneNumber, emailAddress]",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "expand",
                        "in": "query",
                        "required": false,
                        "description": "Expandable fields: [addresses, emailAddresses, phoneNumbers, cards, metadata]",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Customer"
                                }
                            }
                        }
                    }
                },
                "security": []
            }
        },
        "/v3/merchants/{mId}/customers": {
            "get": {
                "description": "Get a list of customers",
                "summary": "DelegatedGetCustomers1",
                "operationId": "V3MerchantsCustomersByMIdGet",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "filter",
                        "in": "query",
                        "required": false,
                        "description": "Filter fields: [id, firstName, lastName, fullName, customerSince, marketingAllowed, deletedTime, phoneNumber, emailAddress]",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "expand",
                        "in": "query",
                        "required": false,
                        "description": "Expandable fields: [addresses, emailAddresses, phoneNumbers, cards, metadata]",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Customer"
                                }
                            }
                        }
                    }
                },
                "security": []
            },
            "post": {
                "description": "Create a customer",
                "summary": "DelegatedCreateCustomer",
                "operationId": "V3MerchantsCustomersByMIdPost",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "expand",
                        "in": "query",
                        "required": false,
                        "description": "Expandable fields: [addresses, emailAddresses, phoneNumbers, cards, metadata]",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": [],
                "requestBody": {
                    "$ref": "#/components/requestBodies/Customer"
                }
            }
        },
        "/v3/merchants/{mId}/customers/{customerId}": {
            "get": {
                "description": "Get a single customer",
                "summary": "DelegatedGetCustomer",
                "operationId": "V3MerchantsCustomersByMIdAndCustomerIdGet",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "filter",
                        "in": "query",
                        "required": false,
                        "description": "Filter fields: [id, firstName, lastName, fullName, customerSince, marketingAllowed, deletedTime, phoneNumber, emailAddress]",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "expand",
                        "in": "query",
                        "required": false,
                        "description": "Expandable fields: [addresses, emailAddresses, phoneNumbers, cards, metadata]",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Customer"
                                }
                            }
                        }
                    }
                },
                "security": []
            },
            "post": {
                "description": "Update a customer",
                "summary": "DelegatedUpdateCustomer",
                "operationId": "V3MerchantsCustomersByMIdAndCustomerIdPost",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "expand",
                        "in": "query",
                        "required": false,
                        "description": "Expandable fields: [addresses, emailAddresses, phoneNumbers, cards, metadata]",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": [],
                "requestBody": {
                    "$ref": "#/components/requestBodies/Customer"
                }
            },
            "delete": {
                "description": "Delete a customer",
                "summary": "DelegatedDeleteCustomer",
                "operationId": "V3MerchantsCustomersByMIdAndCustomerIdDelete",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": [],
                "requestBody": {
                    "$ref": "#/components/requestBodies/Customer"
                }
            }
        },
        "/v3/merchants/{mId}/customers/{customerId}/phone_numbers": {
            "post": {
                "description": "Create a phone number for a customer",
                "summary": "DelegatedCreateCustomerPhoneNumber",
                "operationId": "V3MerchantsCustomersPhoneNumbersByMIdAndCustomerIdPost",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": [],
                "requestBody": {
                    "$ref": "#/components/requestBodies/PhoneNumber"
                }
            }
        },
        "/v3/merchants/{mId}/customers/{customerId}/phone_numbers/{phoneId}": {
            "post": {
                "description": "Update a phone number for a customer",
                "summary": "DelegatedUpdateCustomerPhoneNumber",
                "operationId": "V3MerchantsCustomersPhoneNumbersPhoneIdByMIdAndCustomerIdPost",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "phoneId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": [],
                "requestBody": {
                    "$ref": "#/components/requestBodies/PhoneNumber"
                }
            },
            "delete": {
                "description": "Delete a customer phone number",
                "summary": "DelegatedDeleteCustomerPhoneNumber",
                "operationId": "V3MerchantsCustomersPhoneNumbersPhoneIdByMIdAndCustomerIdDelete",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "phoneId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": []
            }
        },
        "/v3/merchants/{mId}/customers/{customerId}/email_addresses": {
            "post": {
                "description": "Create an email address for a customer",
                "summary": "DelegatedCreateCustomerEmailAddress",
                "operationId": "V3MerchantsCustomersEmailAddressesByMIdAndCustomerIdPost",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": [],
                "requestBody": {
                    "$ref": "#/components/requestBodies/EmailAddress"
                }
            }
        },
        "/v3/merchants/{mId}/customers/{customerId}/email_addresses/{emailId}": {
            "post": {
                "description": "Update an email address for a customer",
                "summary": "DelegatedUpdateCustomerEmailAddress",
                "operationId": "V3MerchantsCustomersEmailAddressesEmailIdByMIdAndCustomerIdPost",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "emailId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": [],
                "requestBody": {
                    "$ref": "#/components/requestBodies/EmailAddress"
                }
            },
            "delete": {
                "description": "Delete a customer email address",
                "summary": "DelegatedDeleteCustomerEmailAddress",
                "operationId": "V3MerchantsCustomersEmailAddressesEmailIdByMIdAndCustomerIdDelete",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "emailId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": []
            }
        },
        "/v3/merchants/{mId}/customers/{customerId}/addresses": {
            "post": {
                "description": "Create an address for a customer",
                "summary": "DelegatedCreateCustomerAddress",
                "operationId": "V3MerchantsCustomersAddressesByMIdAndCustomerIdPost",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": [],
                "requestBody": {
                    "$ref": "#/components/requestBodies/Address"
                }
            }
        },
        "/v3/merchants/{mId}/customers/{customerId}/addresses/{addressId}": {
            "post": {
                "description": "Update an address for a customer",
                "summary": "DelegatedUpdateCustomerAddress",
                "operationId": "V3MerchantsCustomersAddressesAddressIdByMIdAndCustomerIdPost",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "addressId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": [],
                "requestBody": {
                    "$ref": "#/components/requestBodies/Address"
                }
            },
            "delete": {
                "description": "Delete a customer address",
                "summary": "DelegatedDeleteCustomerAddress",
                "operationId": "V3MerchantsCustomersAddressesAddressIdByMIdAndCustomerIdDelete",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "addressId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": []
            }
        },
        "/v3/merchants/{mId}/customers/{customerId}/cards": {
            "post": {
                "description": "Create a credit/debit card entry for a customer",
                "summary": "DelegatedCreateCustomerCard",
                "operationId": "V3MerchantsCustomersCardsByMIdAndCustomerIdPost",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": [],
                "requestBody": {
                    "$ref": "#/components/requestBodies/Card"
                }
            }
        },
        "/v3/merchants/{mId}/customers/{customerId}/cards/{cardId}": {
            "post": {
                "description": "Update a credit/debit card record for a customer",
                "summary": "DelegatedUpdateCustomerCard",
                "operationId": "V3MerchantsCustomersCardsCardIdByMIdAndCustomerIdPost",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "cardId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": [],
                "requestBody": {
                    "$ref": "#/components/requestBodies/Card"
                }
            },
            "delete": {
                "description": "Delete a customer card",
                "summary": "DelegatedDeleteCustomerCard",
                "operationId": "V3MerchantsCustomersCardsCardIdByMIdAndCustomerIdDelete",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "cardId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": []
            }
        },
        "/v3/merchants/{mId}/customers/{customerId}/metadata": {
            "post": {
                "description": "Create note, birthday, business name for a customer",
                "summary": "DelegatedCreateOrUpdateCustomerMetadata",
                "operationId": "V3MerchantsCustomersMetadataByMIdAndCustomerIdPost",
                "parameters": [
                    {
                        "name": "mId",
                        "in": "path",
                        "required": true,
                        "description": "Merchant Id",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "customerId",
                        "in": "path",
                        "required": true,
                        "description": "",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "security": [],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CustomerMetadata"
                            }
                        }
                    }
                }
            }
        }
    },
    "servers": [
        {
            "url": "https://apisandbox.dev.clover.com/"
        }
    ],
    "components": {
        "requestBodies": {
            "Address": {
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/Address"
                        }
                    }
                }
            },
            "Customer": {
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/Customer"
                        }
                    }
                }
            },
            "PhoneNumber": {
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/PhoneNumber"
                        }
                    }
                }
            },
            "EmailAddress": {
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/EmailAddress"
                        }
                    }
                }
            },
            "Card": {
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/Card"
                        }
                    }
                }
            }
        },
        "schemas": {
            "Address": {
                "title": "Address",
                "type": "object",
                "properties": {
                    "zip": {
                        "description": "",
                        "type": "string"
                    },
                    "country": {
                        "description": "",
                        "type": "string"
                    },
                    "address3": {
                        "description": "",
                        "type": "string"
                    },
                    "address2": {
                        "description": "",
                        "type": "string"
                    },
                    "city": {
                        "description": "",
                        "type": "string"
                    },
                    "address1": {
                        "description": "",
                        "type": "string"
                    },
                    "id": {
                        "description": "",
                        "type": "string"
                    },
                    "state": {
                        "description": "",
                        "type": "string"
                    }
                },
                "required": [
                    "zip",
                    "country",
                    "city",
                    "address1",
                    "state"
                ]
            },
            "Customer": {
                "title": "Customer",
                "type": "object",
                "properties": {
                    "customerSince": {
                        "description": "",
                        "type": "integer",
                        "format": "int64"
                    },
                    "firstName": {
                        "description": "First/given name of the customer",
                        "type": "string"
                    },
                    "lastName": {
                        "description": "Last name/surname of the customer",
                        "type": "string"
                    },
                    "addresses": {
                        "description": "",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Address"
                        }
                    },
                    "metadata": {
                        "$ref": "#/components/schemas/CustomerMetadata"
                    },
                    "emailAddresses": {
                        "description": "",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/EmailAddress"
                        }
                    },
                    "cards": {
                        "description": "",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Card"
                        }
                    },
                    "marketingAllowed": {
                        "description": "",
                        "type": "boolean"
                    },
                    "merchant": {
                        "$ref": "#/components/schemas/Reference"
                    },
                    "orders": {
                        "description": "",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Reference"
                        }
                    },
                    "id": {
                        "description": "Unique identifier",
                        "type": "string"
                    },
                    "phoneNumbers": {
                        "description": "",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/PhoneNumber"
                        }
                    }
                }
            },
            "Reference": {
                "title": "Reference",
                "type": "object",
                "properties": {
                    "id": {
                        "description": "Unique identifier",
                        "type": "string"
                    }
                }
            },
            "PhoneNumber": {
                "title": "PhoneNumber",
                "type": "object",
                "properties": {
                    "phoneNumber": {
                        "description": "",
                        "type": "string"
                    },
                    "id": {
                        "description": "",
                        "type": "string"
                    }
                },
                "required": [
                    "phoneNumber"
                ]
            },
            "CustomerMetadata": {
                "title": "CustomerMetadata",
                "type": "object",
                "properties": {
                    "note": {
                        "description": "A note about the customer.",
                        "type": "string"
                    },
                    "modifiedTime": {
                        "description": "The timestamp from when this customer's data was last updated.",
                        "type": "integer",
                        "format": "int64"
                    },
                    "businessName": {
                        "description": "The name of the business the customer is associated with.",
                        "type": "string"
                    },
                    "dobDay": {
                        "description": "The day part of the date of birth for this customer.",
                        "type": "integer",
                        "format": "int32"
                    },
                    "dobYear": {
                        "description": "The year part of the date of birth for this customer. This part of the date of birth is optional, i.e., it's possible that only dobMonth and dobDay are populated.",
                        "type": "integer",
                        "format": "int32"
                    },
                    "dobMonth": {
                        "description": "The month part of the date of birth for this customer.",
                        "type": "integer",
                        "format": "int32"
                    }
                }
            },
            "EmailAddress": {
                "title": "EmailAddress",
                "type": "object",
                "properties": {
                    "emailAddress": {
                        "description": "",
                        "type": "string"
                    },
                    "id": {
                        "description": "",
                        "type": "string"
                    },
                    "verifiedTime": {
                        "description": "",
                        "type": "integer",
                        "format": "int64"
                    }
                },
                "required": [
                    "emailAddress"
                ]
            },
            "Card": {
                "title": "Card",
                "type": "object",
                "properties": {
                    "last4": {
                        "description": "",
                        "type": "string"
                    },
                    "firstName": {
                        "description": "",
                        "type": "string"
                    },
                    "lastName": {
                        "description": "",
                        "type": "string"
                    },
                    "cardType": {
                        "description": "",
                        "type": "string"
                    },
                    "id": {
                        "description": "",
                        "type": "string"
                    },
                    "first6": {
                        "description": "",
                        "type": "string"
                    },
                    "expirationDate": {
                        "description": "",
                        "type": "string"
                    },
                    "token": {
                        "description": "",
                        "type": "string"
                    }
                },
                "required": [
                    "last4",
                    "first6"
                ]
            }
        }
    }
}